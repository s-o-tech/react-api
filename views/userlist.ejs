<!DOCTYPE html>
<html>
  <%- include('./header');%>
  <body>
    
    <h1>User List</h1>

    <ul>
        <%for(let user of users){%>
            <li><%=user.name%></li>
        <%}%>
    </ul>
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        <% if (pagination.currentPage != 1){%>
        <li class="page-item">
          <a class="page-link" href="?page=<%= pagination.currentPage-1%>" aria-label="Previous">
            Previous
          </a>
        </li>
        <% } else {%>
          <li class="page-item disabled">
            <a class="page-link" aria-label="Previous">
              Previous
            </a>
          </li>
        <% }%>

        <% for (let i = pagination.currentPage - 2;i <= pagination.currentPage + 2 && i <= pagination.lastPage; i++){ %>
          <% if (i < 1) continue;%>
          <% if ( i == pagination.currentPage){%>
            <li class="page-item active"><a class="page-link" href="?page=<%= i %>"><%= i %></a></li>
          <% } else {%>
            <li class="page-item"><a class="page-link" href="?page=<%= i %>"><%= i %></a></li>
          <% }%>
        <% }%>

        <% if (pagination.currentPage != pagination.lastPage){%>
          <li class="page-item">
            <a class="page-link" href="?page=<%= pagination.currentPage+1 %>" aria-label="Next">
              Next
            </a>
          </li>
        <% } else {%>
          <li class="page-item disabled">
            <a class="page-link" aria-label="Next">
              Next
            </a>
          </li>
        <% }%>    
      </ul>
    </nav>

  </body>
  
  <footer>
    <%- include('./footer');%>
  </footer>
</html>
